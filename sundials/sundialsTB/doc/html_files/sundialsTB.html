<html>
<head>
<title>User Guide for sundialsTB</title>

<meta name="author" content="Radu Serban">
<meta name="description" content="suite of nonlinear differential algebraic equation solvers">
<meta name="keywords" content="SUNDIALS, CVODE, CVODES, IDA, IDAS, KINSOL">
<meta name="keywords" content="ODE, DAE, sensitivity">
<meta name="keywords" content="differential, algebraic">
<link REL="SHORTCUT ICON" HREF="img/favicon.ico" type="image/x-icon">
<link REL="ICON" HREF="img/favicon.ico" type="image/x-icon">
<link href="../../sundials_styles.css" rel="stylesheet" type="text/css">
<script language="JavaScript">
<!--
homeon = new Image();           homeon.src = "../../graphics/home_buttonH.png";
homeoff = new Image();          homeoff.src = "../../graphics/home_button.png";
descriptionon = new Image();    descriptionon.src = "../../graphics/description_buttonH.png";
descriptionoff = new Image();   descriptionoff.src = "../../graphics/description_button.png";
documentationon = new Image();  documentationon.src = "../../graphics/documentation_buttonH.png";
documentationoff = new Image(); documentationoff.src = "../../graphics/documentation_button.png";
downloadon = new Image();       downloadon.src = "../../graphics/download_buttonH.png";
downloadoff = new Image();      downloadoff.src = "../../graphics/download_button.png";
supporton = new Image();        supporton.src = "../../graphics/support_buttonH.png";
supportoff = new Image();       supportoff.src = "../../graphics/support_button.png";
//-->
</script>
<script src="../../sunjs.js" type="text/javascript" language="javascript1.2"></script>

</head>

<!-- ******************************************************************************** -->

<body>


<table width="100%" height="100%" border="0" cellpadding="0" cellspacing="0">

  <tr valign="top">
  <td height="60" background="../../graphics/table_bck1.gif"><img src="../../graphics/table_bck1.gif" width="5" height="60"></td>
  <td width="116"><img SRC="../../graphics/head_top_left.png" height="60" width="116" border="0"></td>
  <td width="720"><img SRC="../../graphics/head_documentation_top_right.png" height="60" width="720" border="0"></td>
  <td background="../../graphics/table_bck1.gif"><img src="../../graphics/table_bck1.gif" width="5" height="60"></td>
  </tr>

  <tr valign="top">
  <td height="127" background="../../graphics/table_bck2.gif"><img src="../../graphics/table_bck2.gif" width="5" height="127"></td>
  <td width="116">
    <a href="../../main.html" onMouseOver="img_act('home'); return true;" onMouseOut="img_inact('home'); return true;"><img src="../../graphics/home_button.png" border="0" name="home"></a><br>
    <a href="../../description/description.html" onMouseOver="img_act('description'); return true;" onMouseOut="img_inact('description'); return true;"><img src="../../graphics/description_button.png" border="0" name="description"></a><br>
    <a href="../../documentation/documentation.html" onMouseOver="img_act('documentation'); return true;" onMouseOut="img_inact('documentation'); return true;"><img src="../../graphics/documentation_button.png" border="0" name="documentation"></a><br>
    <a href="../../download/download.html" onMouseOver="img_act('download'); return true;" onMouseOut="img_inact('download'); return true;"><img src="../../graphics/download_button.png" border="0" name="download"></a><br>
    <a href="../../support/support.html" onMouseOver="img_act('support'); return true;" onMouseOut="img_inact('support'); return true;"><img src="../../graphics/support_button.png" border="0" name="support"></a><br>
    <img SRC="../../graphics/line_tl.gif" height="7" width="116" border="0">
  </td>
  <td width="720">
      <img SRC="../../graphics/head_bottom_right.png" height="120" width="720" border="0">
      <img SRC="../../graphics/line_tr.gif" height="7" width="720" border="0">
  </td>
  <td background="../../graphics/table_bck2.gif"><img src="../../graphics/table_bck2.gif" width="5" height="127"></td>
  </tr>

  <tr valign="top">
  <td background="../../graphics/table_bck3.gif"></td>
  <td width="116" valign="bottom" align="center" background="../../graphics/table_bck5.gif"><img SRC="../../graphics/logo.png" border="0"></td>


  <td width="720" bgcolor="#ffffff">
  <div id="content">   

<!-- Start content for this page -->


<div class="title">sundialsTB, a Matlab Interface to SUNDIALS</div>


<h1>Modules</h1>
<div class="frame">
<table>
<tr>
<td><img src="matlabicon.gif" alt="matlab" border=0 align="middle"></td>
<td><a href="cvodes.html">cvodes</a></td>
</tr>
<tr>
<td><img src="matlabicon.gif" alt="matlab" border=0 align="middle"></td>
<td><a href="idas.html">idas</a></td>
</tr>
<tr>
<td><img src="matlabicon.gif" alt="matlab" border=0 align="middle"></td>
<td><a href="kinsol.html">kinsol</a></td>
</tr>
<tr>
<td><img src="matlabicon.gif" alt="matlab" border=0 align="middle"></td>
<td><a href="nvector.html">nvector</a></td>
</tr>
<tr>
<td><img src="matlabicon.gif" alt="matlab" border=0 align="middle"></td>
<td><a href="putils.html">putils</a></td>
</tr>
</table>
</div>

<h1>Installation</h1>
<div class="frame">

<table>
<tr>
<td><img src="matlabicon.gif" alt="matlab" border=0 align="middle"></td>
<td><a href="install_STB.html">install_STB</a></td>
<td> - installation script</td>
</tr>
</table>

<br>
<h2>Requirements</h2>
<br><br>
Corresponding release of SUNDIALS
<br>
Optionally, MPITB with LAM 7.1.1 (for MPI-2 features)

<br><br>
<h2>Compilation and installation of sundialsTB</h2>
<br><br>
As of version 2.3.0, sundialsTB is distributed only with the complete SUNDIALS package.
Compilation of sundialsTB is done by running from under Matlab the install_STB.m script 
which is located in the sundialsTB top directory.
<ol>
<li>Launch matlab in sundialsTB:<br>
    <tt>
    % cd 'srcdir'/sundialsTB<br>
    % matlab
    </tt>
</pre>
<li>Run the install_STB matlab script.
    Note that parallel support will be compiled into the MEX files only if
    $LAMHOME is defined <b>and</b> $MPITB_ROOT is defined <b>and</b>
    'srcdir'/src/nvec_par exists.
    <br>
    After the MEX files are generated, you will be asked if you wish to install 
    the sundialsTB toolbox. If you answer yes, you will be then asked for the
    installation directory (called in the sequel 'instdir').
    To install sundialsTB for all Matlab users (not usual), assuming Matlab is 
    installed under /usr/local/matlab7, specify 'instdir' = /usr/local/matlab7/toolbox.
    To install sundialsTB for just one user (usual configuration), install      
    sundialsTB under a directory of your choice (typically under your 'matlab'
    working directory). In other words, specify 'instdir' = /home/user/matlab.
</ol>

<h2>Configuring Matlab's startup</h2>
<br><br>
After a successful installation, a sundialsTB.m startup script is generated
in 'instdir'/sundialsTB. This file must be called by Matlab at initialization.
<br>
If sundialsTB was installed for all Matlab users (not usual), add the sundialsTB 
startup to the system-wide startup file (by linking or copying): <br>
<tt>
% cd /usr/local/matlab7/toolbox/local <br>
% ln -s ../sundialsTB/startup_STB.m
</tt>
<br>
and add these lines to your original local startup.m<br>
<tt>
% SUNDIALS Toolbox startup M-file, if it exists.<br>
if exist('startup_STB','file')<br>
   startup_STB<br>
end
</tt>
<br>
If sundialsTB was installed for just one user (usual configuration) and
assuming you do not need to keep any previously existing startup.m, link 
or copy the startup_STB.m script to your working 'matlab' directory:<br>
<tt>
% cd ~/matlab<br>
% ln -s sundialsTB/startup_STB.m startup.m
</tt>
<br>
If you already have a startup.m, use the method described above, first linking 
(or copying) startup_STB.m to the destination subdir and then editing 
~/matlab/startup.m to run startup_STB.m

<br><br>
<h2>Testing the installation</h2>
<br><br>
If everything went fine, you should now be able to try one of the CVODES, IDAS,
or KINSOL examples (in matlab, type 'help cvodes', 'help idas', or 'help kinsol' 
to see a list of all examples available). For example, cd to the CVODES serial 
example directory:<br>
<tt>% cd 'instdir'/sundialsTB/cvode/examples_ser</tt><br>
and then launch matlab and execute mcvsRoberts_dns.


</div>


<h1>Links</h1>
<div class="frame">
<table border="0" cellspacing="0" cellpadding="0" style="font-size: 1.2em;">
<tr>
 <td><a href="http://www.mathworks.com"><img src="matlab.png" alt="matlab" border=0 align="middle"></a></td>
 <td width="30"></td>
 <td><a href="http://atc.ugr.es/javier-bin/mpitb_eng"><img src="mpi.png" alt="mpitb" border=0 align="middle"></a></td>
 <td width="30"></td>
 <td><a href="http://www.lam-mpi.org"><img src="lam.png" alt="lam" border=0 align="middle"></a></td>
</tr>
<tr>
 <td align="center"><a href="http://www.mathworks.com">Matlab</a></td>
 <td></td>
 <td align="center"><a href="http://atc.ugr.es/javier-bin/mpitb_eng">mpiTB</a></td>
 <td></td>
 <td align="center"><a href="http://www.lam-mpi.org">LAM</a></td>
</tr>
</table>
</div>

<div id="contact">
For further information, contact <br> 
Radu Serban <a href="mailto:radu@llnl.gov">radu@llnl.gov</a><br> 
</div>


<!-- End content for this page -->
  </div>
  </td>

  <td background="../../graphics/table_bck3.gif"></td>
  </tr>

  <tr valign="top">
  <td height="17" background="../../graphics/table_bck4.gif"><img src="../../graphics/table_bck4.gif" width="5" height="17"></td>
  <td width="116"><a HREF="http://www.llnl.gov/disclaimer.html" target="_top"><img SRC="../../graphics/line_bl.gif" height="17" width="116" border="0"></a></td>
  <td width="720"><img SRC="../../graphics/line_br.gif" height="17" width="720" border="0"></td>
  <td background="../../graphics/table_bck4.gif"><img src="../../graphics/table_bck4.gif" width="5" height="17"></td>
  </tr>

  </table>

</body>
</html>

